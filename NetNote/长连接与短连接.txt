https://blog.csdn.net/pmt123456/article/details/58233999

1. TCP连接
当网络通信时采用TCP协议时，在真正的读写操作之前，server与client之间必须建立一个连接，当读写操作完成后，双方不再需要这个连接时它们可以释放这个连接，连接的建立是需要三次握手的，而释放则需要4次握手，所以说每个连接的建立都是需要资源消耗和时间消耗的。

2. TCP短连接
一般一次连接建立一个socket，客户端发送请求信息，服务端处理请求信息，客户端在接收到返回信息后断开socket，服务端收到断开信号也断开socket。这是一次短连接。
我们模拟一下TCP短连接的情况，client向server发起连接请求，server接到请求，然后双方建立连接。client向server发送消息，server回应client，然后一次读写就完成了，这时候双方任何一个都可以发起close操作，不过一般都是client先发起close操作。为什么呢，一般的server不会回复完client后立即关闭连接的，当然不排除有特殊的情况。从上面的描述看，短连接一般只会在client/server间传递一次读写操作
短连接的优点是：管理起来比较简单，存在的连接都是有用的连接，不需要额外的控制手段

3.长连接
在长连接的应用场景下，client端一般不会主动关闭它们之间的连接，Client与server之间的连接如果一直不关闭的话，会存在一个问题，随着客户端连接越来越多，server早晚有扛不住的时候，这时候server端需要采取一些策略，如关闭一些长时间没有读写事件发生的连接，这样可以避免一些恶意连接导致server端服务受损；如果条件再允许就可以以客户端机器为颗粒度，限制每个客户端的最大长连接数，这样可以完全避免某个蛋疼的客户端连累后端服务

4.心跳包
很多应用层协议都有HeartBeat机制，通常是客户端每隔一小段时间向服务器发送一个数据包，通知服务器自己仍然在线，并传输一些可能必要的数据。使用心跳包的典型协议是IM，比如QQ/MSN/飞信等协议。
心跳包之所以叫心跳包是因为：它像心跳一样每隔固定时间发一次，以此来告诉服务器，这个客户端还活着。事实上这是为了保持长连接，至于这个包的内容，是没有什么特别规定的，不过一般都是很小的包，或者只包含包头的一个空包。


https://blog.csdn.net/ideality_hunter/article/details/77712242
1.HTTP1.1规定了默认保持长连接，数据传输完成后保持TCP不断开（不发RST包，不进行四次挥手），等待同域名下继续使用这个通道进行传输数据。否则就是短连接。HTTP1.0是短连接。

2.区分
	2.1 长连接：指在一个TCP连接上可以连续发送多个数据包，在TCP连接保持期间，如果没有数据包发送，双方需要发送检测包以维持这个连接，一般都是需要自己做在线维持的。  长连接有自己的超时机制，不是永久连接。
	2.2 端连接：指通信双方有数据交互时，建立一个TCP连接，数据发送完成后，就会断开此tcp连接，一般银行都是用端连接。

3.优缺点	
	3.1 长连接可以省去很多的TCP建立、关闭操作，减少消耗和时间，对于频繁请求资源的客户适用。但是一直不关闭会导致服务器扛不住压力。
	3.2 短连接

4.HTTP的长连接与端连接，实际上就是TCP的长连接和短连接。














